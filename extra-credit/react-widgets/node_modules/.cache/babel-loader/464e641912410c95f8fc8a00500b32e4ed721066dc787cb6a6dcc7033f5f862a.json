{"ast":null,"code":"var _jsxFileName = \"/Users/lukesheltraw/Desktop/School/CSE 134B/cse134b-hw5/extra-credit/react-widgets/src/components/RatingWidget.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NUM_STARS = 5;\nconst STAR_ICON = '★';\nconst POS_MESSAGE_THRESHOLD = 0.8;\nconst RatingWidget = () => {\n  _s();\n  const [submittedForm, setSubmittedForm] = useState(false);\n  const [starRating, setStarRating] = useRef(null);\n  const handleClick = starRating => {\n    setSubmittedForm(true);\n    const formBody = new FormData();\n    formBody.append('rating', starRating);\n    formBody.append('question', this._questionText);\n    formBody.append('sentBy', 'JS');\n    fetch('https://httpbin.org/post', {\n      method: 'POST',\n      headers: {\n        'X-Sent-By': 'JavaScript'\n      },\n      body: formBody\n    }).then(res => res.json()).then(console.log);\n  };\n  const confirmationText = starRating / this._numStars >= POS_MESSAGE_THRESHOLD ? `Thanks for the ${starRating} star rating!` : `Thanks for the feedback of ${starRating} stars. We'll try to do better!`;\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"rating-widget\",\n    children: submittedForm ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: confirmationText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }, this) : Array.from({\n      length: NUM_STARS\n    }).map((_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"star-button\",\n      onClick: () => handleClick(i + 1),\n      children: STAR_ICON\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(RatingWidget, \"ZQ0HIyqf1rIqMJ+wxwzie6zC1Ek=\");\n_c = RatingWidget;\nexport default RatingWidget;\nvar _c;\n$RefreshReg$(_c, \"RatingWidget\");","map":{"version":3,"names":["useState","useRef","jsxDEV","_jsxDEV","NUM_STARS","STAR_ICON","POS_MESSAGE_THRESHOLD","RatingWidget","_s","submittedForm","setSubmittedForm","starRating","setStarRating","handleClick","formBody","FormData","append","_questionText","fetch","method","headers","body","then","res","json","console","log","confirmationText","_numStars","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Array","from","length","map","_","i","onClick","_c","$RefreshReg$"],"sources":["/Users/lukesheltraw/Desktop/School/CSE 134B/cse134b-hw5/extra-credit/react-widgets/src/components/RatingWidget.js"],"sourcesContent":["import { useState, useRef } from 'react';\n\nconst NUM_STARS = 5;\nconst STAR_ICON = '★';\nconst POS_MESSAGE_THRESHOLD = 0.8;\n\nconst RatingWidget = () => {\n  const [submittedForm, setSubmittedForm] = useState(false);\n  const [starRating, setStarRating] = useRef(null);\n\n  const handleClick = (starRating) => {\n    setSubmittedForm(true);\n\n    const formBody = new FormData();\n    formBody.append('rating', starRating);\n    formBody.append('question', this._questionText);\n    formBody.append('sentBy', 'JS');\n\n    fetch('https://httpbin.org/post', {\n        method: 'POST',\n        headers: {\n          'X-Sent-By': 'JavaScript',\n        },\n        body: formBody,\n      })\n      .then((res) => res.json())\n      .then(console.log); \n  }\n\n  const confirmationText = (starRating / this._numStars) >= POS_MESSAGE_THRESHOLD\n  ? `Thanks for the ${ starRating } star rating!`\n  : `Thanks for the feedback of ${ starRating } stars. We'll try to do better!`;\n\n  return (\n    <section className='rating-widget'>\n      {\n        submittedForm\n        ?\n          <p>{ confirmationText }</p>\n        : \n          Array.from({ length: NUM_STARS })\n            .map((_, i) =>\n              <button\n                className='star-button'\n                key={ i }\n                onClick={ () => handleClick(i + 1) }\n              >\n                { STAR_ICON }\n              </button>\n            )\n      }\n    </section>\n  );\n};\n\nexport default RatingWidget;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,SAAS,GAAG,CAAC;AACnB,MAAMC,SAAS,GAAG,GAAG;AACrB,MAAMC,qBAAqB,GAAG,GAAG;AAEjC,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGX,MAAM,CAAC,IAAI,CAAC;EAEhD,MAAMY,WAAW,GAAIF,UAAU,IAAK;IAClCD,gBAAgB,CAAC,IAAI,CAAC;IAEtB,MAAMI,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEL,UAAU,CAAC;IACrCG,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACC,aAAa,CAAC;IAC/CH,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC;IAE/BE,KAAK,CAAC,0BAA0B,EAAE;MAC9BC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,WAAW,EAAE;MACf,CAAC;MACDC,IAAI,EAAEP;IACR,CAAC,CAAC,CACDQ,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAACG,OAAO,CAACC,GAAG,CAAC;EACtB,CAAC;EAED,MAAMC,gBAAgB,GAAIhB,UAAU,GAAG,IAAI,CAACiB,SAAS,IAAKtB,qBAAqB,GAC5E,kBAAkBK,UAAY,eAAc,GAC5C,8BAA8BA,UAAY,iCAAgC;EAE7E,oBACER,OAAA;IAAS0B,SAAS,EAAC,eAAe;IAAAC,QAAA,EAE9BrB,aAAa,gBAEXN,OAAA;MAAA2B,QAAA,EAAKH;IAAgB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,GAE3BC,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAEjC;IAAU,CAAC,CAAC,CAC9BkC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBACRrC,OAAA;MACE0B,SAAS,EAAC,aAAa;MAEvBY,OAAO,EAAGA,CAAA,KAAM5B,WAAW,CAAC2B,CAAC,GAAG,CAAC,CAAG;MAAAV,QAAA,EAElCzB;IAAS,GAHLmC,CAAC;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAID,CACV;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEA,CAAC;AAEd,CAAC;AAAC1B,EAAA,CA/CID,YAAY;AAAAmC,EAAA,GAAZnC,YAAY;AAiDlB,eAAeA,YAAY;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}